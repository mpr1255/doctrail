# Test schema validation error handling
database: placeholder  # Will be replaced by test runner
default_model: gpt-4o-mini

sql_queries:
  all_docs: |
    SELECT rowid, sha1, * FROM documents
    ORDER BY rowid

enrichments:
  - name: test_validation_fail
    description: "Test validation failure handling"
    model: gpt-4o-mini
    input:
      query: all_docs
      input_columns: ["raw_content"]
    output_table: validation_test  # Required for multiple fields
    schema:
      year: {type: "integer", minimum: 2000, maximum: 2025}
      amount: {type: "number", minimum: 0, maximum: 1000000}
    prompt: |
      Extract year and amount.
      Mock will return year: 1999 to trigger validation error