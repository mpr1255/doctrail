# Test overwrite mode behavior
database: placeholder  # Will be replaced by test runner
default_model: gpt-4o-mini

sql_queries:
  all_docs: |
    SELECT rowid, sha1, * FROM documents
    WHERE doc_year IS NULL
    ORDER BY rowid

enrichments:
  - name: update_year
    description: "Update year column (test overwrite)"
    model: gpt-4o-mini
    input:
      query: all_docs
      input_columns: ["raw_content"]
    schema:
      doc_year: {type: "integer"}
    prompt: |
      Extract the year from this document.
      Return as 4-digit integer.